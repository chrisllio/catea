define(["jquery","Class","uiConstants","AnimationFrame","Spy","utils","prototype","json2"],function(n,e,i,t,r,a){"use strict";return{class:{init:function(n,e,s,u,d){var o=this;if(o.widgetName=u,o.renderCallback=d,o._initReady=!1,o.settings=s,o.element=n,o.options=e,s.valueType){o._value=r[s.valueType===Array?"observableArray":"observable"](null);var f=o._addValueSubscribers();if(f&&f.length>0)for(var l=0;l<f.length;l++){var c=a.findFunction(f[l],o);c&&o._value.subscribe(c.bind(o))}}if(s.dataType){o._data=r[s.dataType===i.Array?"observableArray":"observable"](null);var _=o._addDataSubscribers();if(_&&_.length>0)for(var v=0;v<_.length;v++){var b=a.findFunction(_[v],o);b&&o._data.subscribe(b.bind(o))}}s.WaitForInitRender?t.requestFrames([o._initRender,o._bindEvents],o._finished):(o._initRender(),o._bindEvents(),o._finished())},_initRender:function(){},_bindEvents:function(){},_addValueSubscribers:function(){return[]},_addDataSubscribers:function(){return[]},_finished:function(){var n=this;n._initReady=!0,a.apply(n.renderCallback,n)},_fire:function(n){return this},_on:function(n,e){}},methods:{isReady:function(){return this._initReady},value:function(n){var e=this;if(e._value)return void 0===n?e._value():(e._value(n),e)},data:function(n){var e=this;if(e._data)return void 0===n?e._data():(e._data(a.arrayValue(n)),e)},fire:function(n){return this._fire(n),this},on:function(n,e){},getSettings:function(){return this.settings},getOptions:function(){return this.options}},defaults:{},settings:{"core-version":"2.0",WaitForInitRender:!1}}});